<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ethan Perez's Enthusiastic Penguin — WEB115 — FizzBuzz 3</title>
    <script src="scripts/HTMLInclude.js" defer></script>
    <link rel="stylesheet" href="styles/styles.css">
</head>
<body>
    <div class="container">
        
        <div data-include="components/header.html"></div>

        <main>
            <h2>FizzBuzz 3</h2>

            <div>
                <p><strong>New Features:</strong></p>
                <p>Modular division check function</p>
                <p>Customizable divisor variables</p>
                <p>Improved code structure</p>
                <p>Dynamic string building (no brute-forcing combinations!)</p>
                <p>Added divisor 7 for "BANG!"</p>
            </div>

            <div>
                <div>
                    <label for="firstName">First Name:</label>
                    <input type="text" id="firstName" placeholder="Enter your first name">
                </div>
                <div>
                    <label for="middleName">Middle Name:</label>
                    <input type="text" id="middleName" placeholder="Enter your middle name">
                </div>
                <div>
                    <label for="lastName">Last Name:</label>
                    <input type="text" id="lastName" placeholder="Enter your last name">
                </div>
                <div>
                    <label for="firstDivisor">First Divisor (Fizz) - Default 3:</label>
                    <input type="number" id="firstDivisor" value="3" min="1">
                </div>
                <div>
                    <label for="secondDivisor">Second Divisor (Buzz) - Default 5:</label>
                    <input type="number" id="secondDivisor" value="5" min="1">
                </div>
                <div>
                    <label for="thirdDivisor">Third Divisor (Bang) - Default 7:</label>
                    <input type="number" id="thirdDivisor" value="7" min="1">
                </div>
                <div>
                    <label for="maxNumber">Count to:</label>
                    <input type="number" id="maxNumber" value="140" min="1" max="1000">
                </div>
                <button onclick="runFizzBuzz()">Generate FizzBuzz!</button>
            </div>

            <div id="greeting"></div>

            <div id="output" style="display: none;">
                <ol id="fizzbuzzList"></ol>
            </div>
        </main>

        
    </div>
    
    <div data-include="components/footer.html"></div>

    <script>
        /**
         * Checks if the first number is evenly divisible by the second number
         * @param {number} dividend - The number to be divided
         * @param {number} divisor - The number to divide by
         * @returns {boolean} - True if evenly divisible, false otherwise
         */
        function checkDivision(dividend, divisor) {
            return dividend % divisor === 0;
        }

        /**
         * Runs the FizzBuzz algorithm with customizable divisors
         * Uses a dynamic approach that builds the output string based on divisibility
         * This scales to any number of divisors without brute-forcing combinations
         */
        function runFizzBuzz() {
            // Get user input
            const firstName = document.getElementById('firstName').value.trim();
            const middleName = document.getElementById('middleName').value.trim();
            const lastName = document.getElementById('lastName').value.trim();

            // Validate name input
            if (!firstName || !middleName || !lastName) {
                alert('Please enter your first, middle, and last name!');
                return;
            }

            // Get divisor values from input fields
            const firstDivisor = parseInt(document.getElementById('firstDivisor').value);
            const secondDivisor = parseInt(document.getElementById('secondDivisor').value);
            const thirdDivisor = parseInt(document.getElementById('thirdDivisor').value);
            const maxNumber = parseInt(document.getElementById('maxNumber').value);

            // Validate divisor inputs
            if (firstDivisor < 1 || secondDivisor < 1 || thirdDivisor < 1 || maxNumber < 1) {
                alert('Please enter positive numbers for all fields.');
                return;
            }

            if (maxNumber > 1000) {
                alert('Maximum count is 1000. Please enter a smaller number.');
                return;
            }

            // Display greeting
            const greeting = document.getElementById('greeting');
            greeting.textContent = `Welcome to FizzBuzz, ${firstName} ${middleName} ${lastName}!`;

            // Clear previous output
            const outputDiv = document.getElementById('output');
            const list = document.getElementById('fizzbuzzList');
            list.innerHTML = '';

            // Define divisor-word pairs for dynamic string building
            // This array makes it easy to add more divisors in the future!
            const divisorWords = [
                { divisor: firstDivisor, word: 'Fizz' },
                { divisor: secondDivisor, word: 'Buzz' },
                { divisor: thirdDivisor, word: 'Bang' }
            ];

            // Generate FizzBuzz sequence
            for (let iCounter = 1; iCounter <= maxNumber; iCounter++) {
                const listItem = document.createElement('li');
                let output = '';

                // Dynamically build the output string by checking each divisor
                // This approach automatically handles ALL combinations without brute-forcing!
                for (let i = 0; i < divisorWords.length; i++) {
                    if (checkDivision(iCounter, divisorWords[i].divisor)) {
                        output += divisorWords[i].word;
                    }
                }

                // If no divisors matched, use the number itself
                if (output === '') {
                    output = iCounter.toString();
                }

                listItem.textContent = output;
                list.appendChild(listItem);
            }

            // Show output
            outputDiv.style.display = 'block';

            // Smooth scroll to output
            outputDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // Allow Enter key to submit
        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input[type="text"], input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        runFizzBuzz();
                    }
                });
            });
        });
    </script>
</body>
</html>